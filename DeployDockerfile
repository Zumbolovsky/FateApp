# syntax=docker/dockerfile:1

FROM adoptopenjdk/maven-openjdk11 AS build
RUN mkdir /usr/src/project
COPY . /usr/src/project
WORKDIR /usr/src/project
RUN mvn clean package -DskipTests

FROM azul/zulu-openjdk-alpine:11.0.11-11.48.21-jre
RUN mkdir /project
COPY --from=build /usr/src/project/target/fate-app-0.0.1-SNAPSHOT.jar /project/
WORKDIR /project
CMD java -jar fate-app-0.0.1-SNAPSHOT.jar